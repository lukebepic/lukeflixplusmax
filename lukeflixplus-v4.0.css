/* ═══════════════════════════════════════════════════════════════════════════════
   LukeFlix+ Max V4.1 - The Final Polish
   Import GlassFin base, override colors and add LukeFlix+ branding
   ═══════════════════════════════════════════════════════════════════════════════ */

/* Step 1: Import the proven, working GlassFin base */
@import url("https://cdn.jsdelivr.net/gh/KBH-Reeper/GlassFin@main/Theme/GlassFin.css");

/* ═══════════════════════════════════════════════════════════════════════════════
   Step 2: Override ROOT VARIABLES with LukeFlix+ Colors
   ═══════════════════════════════════════════════════════════════════════════════ */
:root {
    /* Footer Text Override */
    --FooterTextGlassFin: "LukeFlix+ Max V4.1" !important;
    
    /* LukeFlix+ Blue (#222160) and Cyan (#3796cb) Color Scheme */
    --darkerGradientPoint: #222160 !important;
    --darkerGradientPointAlpha: rgba(34, 33, 96, 0.85) !important;
    --lighterGradientPoint: #2a2875 !important;
    --lighterGradientPointAlpha: rgba(42, 40, 117, 0.85) !important;
    --gradientPointAlpha: rgba(42, 40, 117, 0.3) !important;
    
    /* Header and Drawer Colors */
    --headerColor: rgba(34, 33, 96, 0.8) !important;
    --drawerColor: rgba(34, 33, 96, 0.9) !important;
    
    /* Active/Accent Color - LukeFlix+ Cyan */
    --activeColorAlpha: rgba(55, 150, 203, 0.9) !important;
    --activeColor: #3796cb !important;
    --uiAccentColor: #3796cb !important;
    
    /* Background Gradient - LukeFlix+ Radial Blue */
    --backgroundGradient: radial-gradient(ellipse at center, #222160 0%, #1a1850 50%, #0f0d2e 100%) !important;
    
    /* Card Background */
    --cardBackgroundGradient: linear-gradient(0deg, #222160, #2a2875 25%) !important;
    
    /* Login Page Text */
    --loginPageText: "Sign in to LukeFlix+" !important;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   FIX 1: FORCE COLORS THROUGHOUT
   ═══════════════════════════════════════════════════════════════════════════════ */
html,
body,
.nowPlayingPlaylist,
.nowPlayingContextMenu,
.backgroundContainer:not(.withBackdrop) {
    background: radial-gradient(ellipse at center, #222160 0%, #1a1850 50%, #0f0d2e 100%) !important;
}

.skinHeader-blurred:not(.osdHeader) {
    background-color: rgba(34, 33, 96, 0.8) !important;
}

.mainDrawer,
.drawer-open,
.MuiDrawer-paper {
    background-color: rgba(34, 33, 96, 0.9) !important;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   FIX 2: CATEGORY CARDS - MAKE BIGGER
   ═══════════════════════════════════════════════════════════════════════════════ */
/* Target the "My Media" section specifically */
.section0 .overflowBackdropCard[data-type="CollectionFolder"],
.section0 .overflowBackdropCard[data-type="UserView"] {
    width: 30% !important;
    min-width: 300px !important;
}

@media (max-width: 80em) {
    .section0 .overflowBackdropCard[data-type="CollectionFolder"],
    .section0 .overflowBackdropCard[data-type="UserView"] {
        width: 45% !important;
    }
}

@media (max-width: 50em) {
    .section0 .overflowBackdropCard[data-type="CollectionFolder"],
    .section0 .overflowBackdropCard[data-type="UserView"] {
        width: 90% !important;
    }
}

/* Make the category card images taller */
.section0 .overflowBackdropCard[data-type="CollectionFolder"] .cardPadder-overflowBackdrop,
.section0 .overflowBackdropCard[data-type="UserView"] .cardPadder-overflowBackdrop {
    padding-bottom: 56.25% !important; /* 16:9 aspect ratio */
}

/* Show the labels */
.section0 .overflowBackdropCard[data-type="CollectionFolder"] .cardText-first,
.section0 .overflowBackdropCard[data-type="UserView"] .cardText-first {
    display: block !important;
    font-size: 1.5em !important;
    font-weight: 600 !important;
    margin-top: 0.5em !important;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   FIX 3: HEADER LOGO - Replace Jellyfin with LukeFlix+ (250×140px)
   ═══════════════════════════════════════════════════════════════════════════════ */
/* Hide Jellyfin text logo */
.pageTitleWithLogo.pageTitleWithDefaultLogo.pageTitle {
    background-image: url('https://cdn.jsdelivr.net/gh/lukebepic/lukeflixplusmax@main/logo-header.png') !important;
    background-size: contain !important;
    background-repeat: no-repeat !important;
    background-position: center left !important;
    color: transparent !important;
    width: 250px !important;
    height: 60px !important;
    text-indent: -9999px !important;
}

/* Also target the main logo */
.headerLogo {
    content: url('https://cdn.jsdelivr.net/gh/lukebepic/lukeflixplusmax@main/logo-header.png') !important;
    max-width: 250px !important;
    max-height: 60px !important;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   FIX 4: DETAIL PAGE LOGO - Use transparent, make bigger (560×320px, 20% opacity)
   ═══════════════════════════════════════════════════════════════════════════════ */
.detailLogo {
    display: block !important;
    position: absolute !important;
    top: 2em !important;
    right: 2em !important;
    width: 560px !important;
    height: 320px !important;
    opacity: 0.2 !important;
    background-image: url('https://cdn.jsdelivr.net/gh/lukebepic/lukeflixplusmax@main/logo-transparent.png') !important;
    background-position: center !important;
    background-size: contain !important;
    background-repeat: no-repeat !important;
    z-index: 2 !important;
    pointer-events: none !important;
}

.layout-mobile .detailLogo {
    width: 400px !important;
    height: 226px !important;
    top: 1em !important;
    right: 1em !important;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   FIX 5: SHOW MOVIE/TV TITLES - Clear Logo Support
   ═══════════════════════════════════════════════════════════════════════════════ */
/* IMPORTANT: Keep the clear logo visible if it exists */
.detailLogo:not(.hide) {
    display: block !important;
}

/* If clear logo is present, hide the text title */
.detailLogo:not(.hide) ~ .detailPageWrapperContainer .nameContainer h1 {
    display: none !important;
}

/* If NO clear logo, show the text title */
.detailLogo.hide ~ .detailPageWrapperContainer .nameContainer h1,
.detailPageWrapperContainer .nameContainer h1 {
    display: block !important;
    font-size: 3em !important;
    font-weight: 300 !important;
    color: white !important;
    text-align: center !important;
}

.layout-mobile .detailPageWrapperContainer .nameContainer h1 {
    font-size: 2em !important;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Step 3: Home Page Watermark (80vw max 1200px, 12% opacity)
   ═══════════════════════════════════════════════════════════════════════════════ */
#indexPage {
    position: relative;
}

#indexPage::before {
    content: "";
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80vw;
    max-width: 1200px;
    height: 45vw;
    max-height: 675px;
    background-image: url('https://cdn.jsdelivr.net/gh/lukebepic/lukeflixplusmax@main/logo-transparent.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    opacity: 0.12;
    pointer-events: none;
    z-index: 0;
}

#indexPage > * {
    position: relative;
    z-index: 1;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Step 4: Search Page Watermark (80vw max 1200px, 10% opacity)
   ═══════════════════════════════════════════════════════════════════════════════ */
#searchPage {
    position: relative;
}

#searchPage::before {
    content: "";
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80vw;
    max-width: 1200px;
    height: 45vw;
    max-height: 675px;
    background-image: url('https://cdn.jsdelivr.net/gh/lukebepic/lukeflixplusmax@main/logo-transparent.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    opacity: 0.10;
    pointer-events: none;
    z-index: 0;
}

#searchPage > * {
    position: relative;
    z-index: 1;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Step 5: Login Page Logo (450×250px centered above form)
   ═══════════════════════════════════════════════════════════════════════════════ */
#loginPage .padded-left.padded-right.padded-bottom-page::before {
    content: "";
    display: block;
    width: 450px;
    height: 250px;
    max-width: 90vw;
    margin: -2em auto 2em;
    background-image: url('https://cdn.jsdelivr.net/gh/lukebepic/lukeflixplusmax@main/logo.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}

.layout-mobile #loginPage .padded-left.padded-right.padded-bottom-page::before {
    width: 350px;
    height: 195px;
    margin: -1em auto 1.5em;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Step 6: Loading Screen Logo (500×280px with pulse animation)
   ═══════════════════════════════════════════════════════════════════════════════ */
.docspinner::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 500px;
    height: 280px;
    max-width: 80vw;
    background-image: url('https://cdn.jsdelivr.net/gh/lukebepic/lukeflixplusmax@main/logo.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    animation: lukepulse 2s ease-in-out infinite;
    z-index: 999;
}

@keyframes lukepulse {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   Step 7: Additional LukeFlix+ Touch-ups - FORCE CYAN EVERYWHERE
   ═══════════════════════════════════════════════════════════════════════════════ */

/* Progress bars - FORCE cyan */
.itemProgressBarForeground {
    background-color: #3796cb !important;
    box-shadow: 0 0 12px rgba(55, 150, 203, 0.8) !important;
}

.itemProgressBar {
    background-color: rgba(34, 33, 96, 0.5) !important;
}

/* Card hover - FORCE cyan */
.card-hoverable:hover .cardScalable {
    border-color: #3796cb !important;
}

/* Active navigation - FORCE cyan */
.navMenuOption-selected,
.Mui-selected,
.emby-tab-button-active {
    background-color: rgba(55, 150, 203, 0.4) !important;
    color: white !important;
}

/* Buttons - FORCE cyan */
.button-submit,
.btnPlay.detailButton,
.fab {
    background-color: #3796cb !important;
    border-color: rgba(55, 150, 203, 0.5) !important;
}

.button-submit:hover,
.btnPlay.detailButton:hover,
.fab:hover {
    background-color: #4da8d9 !important;
}

/* Rating badges - FORCE cyan */
.mediaInfoOfficialRating {
    border-color: #3796cb !important;
    color: #3796cb !important;
}

/* Card backgrounds - FORCE blue gradient */
.cardBox:not(.visualCardBox) .cardPadder,
.defaultCardBackground,
.cardScalable {
    background: linear-gradient(0deg, #222160, #2a2875 25%) !important;
}

/* Info boxes - FORCE blue background */
.itemDetailsGroup,
.trackSelections,
.visualCardBox,
.paperList {
    background-color: rgba(34, 33, 96, 0.6) !important;
    border-color: rgba(55, 150, 203, 0.3) !important;
}

/* Dialogs - FORCE blue background */
.dialog {
    background-color: rgba(34, 33, 96, 0.9) !important;
}

/* Inputs - FORCE blue background */
.emby-input,
.emby-select,
.emby-textarea {
    background-color: rgba(34, 33, 96, 0.5) !important;
    border-color: rgba(55, 150, 203, 0.3) !important;
}

.emby-input:focus,
.emby-select:focus,
.emby-textarea:focus {
    border-color: #3796cb !important;
}

/* Ensure header uses blue */
.skinHeader-blurred:not(.osdHeader):not(.semiTransparent) {
    background-color: rgba(34, 33, 96, 0.8) !important;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   END OF LUKEFLIX+ V4.1 CUSTOMIZATIONS
   
   Fixes Applied:
   1. ✅ Colors forced throughout (blue/cyan)
   2. ✅ Category cards made bigger (30% width, 16:9 ratio)
   3. ✅ Header logo replaced with LukeFlix+ logo
   4. ✅ Detail logo uses transparent version, 2x size (560×320px)
   5. ✅ Movie/TV titles show (with clear logo support)
   ═══════════════════════════════════════════════════════════════════════════════ */
